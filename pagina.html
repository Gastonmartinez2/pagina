<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Tu GuÃ­a PrÃ¡ctica para una AlimentaciÃ³n Saludable ğŸ½ï¸</title>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');

  body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #f0f7f4 0%, #d4e8db 100%);
    color: #2c3e50;
    min-height: 100vh;
  }

  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 35px 20px;
  }

  h1 {
    text-align: center;
    color: #27ae60;
    font-size: 2.6em;
    margin-bottom: 35px;
  }

  form {
    display: grid;
    gap: 18px;
    max-width: 580px;
    margin: 0 auto 50px;
    background: white;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 6px 25px rgba(0,0,0,0.08);
  }

  label { font-weight: 600; color: #34495e; }
  input, select {
    padding: 13px 16px;
    border: 1px solid #bdc3c7;
    border-radius: 8px;
    font-size: 1em;
  }

  button {
    padding: 14px;
    background: #27ae60;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1.1em;
    font-weight: 600;
    cursor: pointer;
  }

  button:hover { background: #219653; }

  #results {
    max-width: 700px;
    margin: 0 auto 50px;
    padding: 28px;
    background: white;
    border-radius: 16px;
    box-shadow: 0 6px 25px rgba(0,0,0,0.08);
  }

  #meal-options {
    display: flex;
    flex-direction: column;
    gap: 45px;
  }

  .group-section {
    background: #f9fff9;
    padding: 28px;
    border-radius: 14px;
    border: 1px solid #e0f2e9;
  }

  .group-options {
    display: flex;
    flex-wrap: wrap;
    gap: 22px;
  }

  .meal-option {
    flex: 1 1 340px;
    background: white;
    padding: 20px;
    border-radius: 12px;
    border: 1px solid #d5f5e3;
    box-shadow: 0 3px 12px rgba(0,0,0,0.06);
  }

  .meal-option h3 {
    margin: 0 0 14px;
    color: #27ae60;
    font-size: 1.28em;
    text-align: center;
  }

  .meal-option ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .meal-option li {
    padding: 9px 12px;
    margin-bottom: 8px;
    background: #f5fff5;
    border-radius: 7px;
    font-size: 0.98em;
  }

  .meal-option li strong {
    color: #1e8449;
  }

  .emoji {
    font-size: 1.4em;
    margin-left: 8px;
  }
</style>
</head>
<body>

<div class="container">
  <h1>Tu GuÃ­a PrÃ¡ctica para una AlimentaciÃ³n Saludable ğŸ½ï¸ğŸ¥—</h1>

  <form id="user-form">
    <label for="age">Edad (aÃ±os):</label>
    <input type="number" id="age" min="14" max="70" required>

    <label for="sex">Sexo:</label>
    <select id="sex" required>
      <option value="male">Hombre</option>
      <option value="female">Mujer</option>
    </select>

    <label for="weight">Peso actual (kg):</label>
    <input type="number" id="weight" step="0.1" required>

    <label for="height">Estatura (cm):</label>
    <input type="number" id="height" required>

    <label for="objective">Objetivo principal:</label>
    <select id="objective" required>
      <option value="muscle">Ganar mÃºsculo / volumen</option>
      <option value="loss">Perder grasa / bajar peso</option>
      <option value="tone">Tonificar / recomposiciÃ³n</option>
      <option value="maintain">Mantenimiento</option>
    </select>

    <label for="training-days">DÃ­as de entrenamiento por semana:</label>
    <input type="number" id="training-days" min="0" max="7" required>

    <label for="training-duration">Minutos por sesiÃ³n (promedio):</label>
    <input type="number" id="training-duration" min="20" required>

    <label for="meals">Comidas al dÃ­a:</label>
    <select id="meals">
      <option value="4">4 comidas</option>
      <option value="5">5 comidas</option>
    </select>

    <label for="walks">Minutos de caminata/dÃ­a (aprox):</label>
    <input type="number" id="walks" min="0" value="0">

    <button type="submit">Calcular mi guÃ­a personalizada ğŸ</button>
  </form>

  <div id="results" style="display:none;">
    <h2>Tus valores diarios estimados</h2>
    <p id="bmi"></p>
    <p id="calories"></p>
    <p id="proteins"></p>
    <p id="carbs"></p>
    <p id="fats"></p>
    <p id="fiber"></p>

    <h2>Elige una comida para ver opciones ğŸ²ğŸ¥¦</h2>
    <select id="meal-select">
      <option value="">-- Selecciona una comida --</option>
      <option value="desayuno">Desayuno ğŸŒ…</option>
      <option value="colacion">ColaciÃ³n maÃ±ana ğŸ¥œ</option>
      <option value="almuerzo">Almuerzo ğŸ½ï¸</option>
      <option value="merienda">Merienda ğŸ¥ª</option>
      <option value="cena">Cena ğŸŒ™</option>
    </select>

    <div id="meal-options"></div>
  </div>
</div>

<script>
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//                  ALIMENTOS BASE
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const foodMacros = {
  'yogur griego natural':   { prot:18, fat:5,  hc:4,  fib:0   },
  'ricota magra':           { prot:11, fat:5,  hc:3,  fib:0   },
  'huevo entero':           { prot:12, fat:10, hc:0.5,fib:0   },
  'atÃºn en agua escurrido': { prot:25, fat:1,  hc:0,  fib:0   },
  'pechuga pollo':          { prot:23, fat:3,  hc:0,  fib:0   },
  'muslo pollo sin piel':   { prot:20, fat:8,  hc:0,  fib:0   },
  'carne magra':            { prot:22, fat:7,  hc:0,  fib:0   },
  'pescado blanco':         { prot:21, fat:2,  hc:0,  fib:0   },
  'batido proteÃ­na scoop':  { prot:25, fat:2,  hc:3,  fib:0, fixed:true },
  'palta':                  { prot:2,  fat:15, hc:9,  fib:7   },
  'aceite oliva':           { prot:0,  fat:100,hc:0,  fib:0   },
  'frutos secos mixtos':    { prot:18, fat:52, hc:18, fib:10  },
  'avena instantÃ¡nea':      { prot:13, fat:7,  hc:66, fib:10  },
  'pan integral':           { prot:9,  fat:3,  hc:45, fib:6   },
  'arroz blanco':           { prot:7,  fat:1,  hc:78, fib:1   },
  'papa hervida':           { prot:2,  fat:0,  hc:17, fib:2   },
  'lentejas cocidas':       { prot:9,  fat:0.5,hc:20, fib:8   }
};

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//             PLANTILLAS DE COMIDAS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const mealTemplates = {
  desayuno: [
    {name:"Yogur griego + avena + frutos secos", p:"yogur griego natural", c:"avena instantÃ¡nea", f:"frutos secos mixtos", desc:"Yogur griego con avena y frutos secos ğŸ¥£ğŸŒ°"},
    {name:"Tostadas integrales con ricota y palta", p:"ricota magra", c:"pan integral", f:"palta", desc:"Tostadas con ricota y palta ğŸ¥‘ğŸ"},
    {name:"Batido proteico con avena", p:"batido proteÃ­na scoop", c:"avena instantÃ¡nea", f:null, desc:"Batido de proteÃ­na + avena ğŸ¥¤"},
    {name:"Huevos revueltos con pan integral", p:"huevo entero", c:"pan integral", f:"aceite oliva", desc:"Huevos revueltos + tostadas ğŸ³ğŸ"}
  ],

  colacion: [
    {name:"Yogur griego + frutos secos", p:"yogur griego natural", c:null, f:"frutos secos mixtos", desc:"Yogur griego + almendras/nueces ğŸ¥›ğŸŒ°"},
    {name:"Batido proteico solo", p:"batido proteÃ­na scoop", c:null, f:null, desc:"Batido de proteÃ­na simple (agua o leche descremada) ğŸ¥¤"},
    {name:"AtÃºn + palta", p:"atÃºn en agua escurrido", c:null, f:"palta", desc:"Lata de atÃºn con Â¼ palta ğŸŸğŸ¥‘"}
  ],

  almuerzo: [
    {name:"Pechuga de pollo con arroz", p:"pechuga pollo", c:"arroz blanco", f:"aceite oliva", desc:"Pechuga a la plancha + arroz + aceite ğŸ—ğŸšğŸ«’"},
    {name:"Carne magra con papa", p:"carne magra", c:"papa hervida", f:"aceite oliva", desc:"Bife magro con papa al horno ğŸ–ğŸ¥”ğŸ«’"},
    {name:"Pescado blanco con lentejas", p:"pescado blanco", c:"lentejas cocidas", f:"aceite oliva", desc:"Pescado + lentejas + aceite ğŸŸğŸ¥£ğŸ«’"},
    {name:"Muslo sin piel con arroz", p:"muslo pollo sin piel", c:"arroz blanco", f:"aceite oliva", desc:"Muslo sin piel + arroz ğŸ—ğŸšğŸ«’"}
  ],

  merienda: [
    {name:"Yogur griego + frutos secos", p:"yogur griego natural", c:null, f:"frutos secos mixtos", desc:"Yogur griego + puÃ±ado de frutos secos ğŸ¥›ğŸŒ°"},
    {name:"SÃ¡ndwich de atÃºn con palta", p:"atÃºn en agua escurrido", c:"pan integral", f:"palta", desc:"SÃ¡ndwich chico de atÃºn + palta ğŸ¥ªğŸŸğŸ¥‘"},
    {name:"SÃ¡ndwich de pechuga", p:"pechuga pollo", c:"pan integral", f:null, desc:"SÃ¡ndwich frÃ­o de pechuga de pollo ğŸ¥ªğŸ—"},
    {name:"Batido proteico post-entreno", p:"batido proteÃ­na scoop", c:null, f:null, desc:"Batido de proteÃ­na despuÃ©s de entrenar ğŸ¥¤ğŸ’ª"}
  ],

  cena: [
    {name:"Pechuga con papa", p:"pechuga pollo", c:"papa hervida", f:"aceite oliva", desc:"Pechuga + papa + aceite ğŸ—ğŸ¥”ğŸ«’"},
    {name:"Carne magra con lentejas", p:"carne magra", c:"lentejas cocidas", f:"aceite oliva", desc:"Carne magra + lentejas ğŸ–ğŸ¥£ğŸ«’"},
    {name:"Pescado con arroz", p:"pescado blanco", c:"arroz blanco", f:"aceite oliva", desc:"Pescado al horno + arroz ğŸŸğŸšğŸ«’"},
    {name:"Muslo sin piel con papa", p:"muslo pollo sin piel", c:"papa hervida", f:"aceite oliva", desc:"Muslo sin piel + papa ğŸ—ğŸ¥”ğŸ«’"}
  ]
};

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//                 FUNCIONES AUXILIARES
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
function roundPractical(value) {
  if (value <= 30) return Math.round(value / 5) * 5;
  if (value <= 100) return Math.round(value / 10) * 10;
  return Math.round(value / 25) * 25;
}

function calculateBMR(w, a, s) {
  if (a < 18) return s==='male' ? 17.5*w + 651 : 12.2*w + 746;
  if (a < 30) return s==='male' ? 15.3*w + 679 : 14.7*w + 496;
  return s==='male' ? 11.6*w + 879 : 8.7*w + 829;
}

function getTDEE(bmr, days, minSession, walkMin) {
  let factor = 1.2;
  const weeklyH = (days * minSession / 60) + (walkMin * 7 / 60);
  if (weeklyH > 10) factor = 1.725;
  else if (weeklyH > 5) factor = 1.55;
  else if (weeklyH > 2) factor = 1.375;
  return bmr * factor;
}

function getMacros(tdee, weight, obj) {
  let protMult = obj==='muscle'?1.9 : obj==='loss'?1.8 : obj==='tone'?1.7 : 1.4;
  let prot = weight * protMult;
  let fat = weight * 0.9;
  let carbMult = obj==='muscle'?1.15 : obj==='loss'?0.65 : obj==='tone'?0.8 : 1.0;
  let carb = (tdee - prot*4 - fat*9)/4 * carbMult;
  let fiber = (obj==='loss' || obj==='tone') ? 34 : 28;

  return {
    proteins: Math.round(prot),
    carbs: Math.round(carb),
    fats: Math.round(fat),
    fiber
  };
}

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
//                   EVENTOS
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
const form = document.getElementById('user-form');
const results = document.getElementById('results');
const mealSel = document.getElementById('meal-select');
const optionsDiv = document.getElementById('meal-options');

let macrosGlobal = {};
let objective = 'maintain';
let mealsQty = 4;

form.addEventListener('submit', e => {
  e.preventDefault();

  const age = +document.getElementById('age').value;
  const sex = document.getElementById('sex').value;
  const weight = +document.getElementById('weight').value;
  const heightCm = +document.getElementById('height').value;
  objective = document.getElementById('objective').value;
  const days = +document.getElementById('training-days').value;
  const minSess = +document.getElementById('training-duration').value;
  const walks = +document.getElementById('walks').value;
  mealsQty = +document.getElementById('meals').value;

  const height = heightCm / 100;
  const bmi = (weight / (height * height)).toFixed(1);
  const bmr = calculateBMR(weight, age, sex);
  const tdee = getTDEE(bmr, days, minSess, walks);
  macrosGlobal = getMacros(tdee, weight, objective);

  document.getElementById('bmi').textContent = `IMC: ${bmi}`;
  document.getElementById('calories').textContent = `CalorÃ­as aprox: ${Math.round(tdee)} kcal ğŸ”¥`;
  document.getElementById('proteins').textContent = `ProteÃ­nas: ${macrosGlobal.proteins} g ğŸ’ª`;
  document.getElementById('carbs').textContent = `Carbohidratos: ${macrosGlobal.carbs} g ğŸš`;
  document.getElementById('fats').textContent = `Grasas: ${macrosGlobal.fats} g ğŸ¥‘`;
  document.getElementById('fiber').textContent = `Fibra recomendada: ${macrosGlobal.fiber} g ğŸ¥—`;

  results.style.display = 'block';
  mealSel.value = "";
  optionsDiv.innerHTML = "";
});

mealSel.addEventListener('change', e => {
  const meal = e.target.value;
  optionsDiv.innerHTML = "";

  if (!meal || !mealTemplates[meal]) return;

  let protMeal = macrosGlobal.proteins / mealsQty;
  let carbMeal = macrosGlobal.carbs / mealsQty;

  // Almuerzo y cena â†’ mÃ¡s proteÃ­na
  if (meal === 'almuerzo' || meal === 'cena') {
    protMeal *= 1.3;
  }

  // Objetivo pÃ©rdida o tonificaciÃ³n â†’ colaciÃ³n sin carbohidratos
  if ((objective === 'loss' || objective === 'tone') && meal === 'colacion') {
    carbMeal = 0;
  }

  const isMain = meal === 'almuerzo' || meal === 'cena';

  mealTemplates[meal].forEach((opt, idx) => {
    const card = document.createElement('div');
    card.className = 'meal-option';

    const title = document.createElement('h3');
    title.textContent = `OpciÃ³n ${idx+1}: ${opt.name}`;
    card.appendChild(title);

    const ul = document.createElement('ul');

    // ProteÃ­na
    let pQty = opt.fixed ? '1 scoop/porciÃ³n' 
                         : roundPractical(protMeal * 100 / (foodMacros[opt.p]?.prot || 20));
    if (opt.p.includes('muslo')) pQty = Math.round(pQty * 1.12); // ajuste hueso
    ul.innerHTML += `<li><strong>ProteÃ­na:</strong> ${pQty}g de ${opt.p} (peso crudo) ğŸ’ª</li>`;

    // Carbohidrato (si aplica)
    if (opt.c && carbMeal > 5) {
      const cQty = roundPractical(carbMeal * 100 / (foodMacros[opt.c]?.hc || 70));
      ul.innerHTML += `<li><strong>Carbohidrato:</strong> ${cQty}g de ${opt.c} (peso crudo) ğŸš</li>`;
    }

    // Grasas saludables
    let fatLine = "";
    if (isMain && opt.f === 'aceite oliva') {
      fatLine = "1 cucharada de aceite de oliva (â‰ˆ10g) ğŸ«’";
    } else if (opt.f) {
      const fQty = roundPractical(macrosGlobal.fats / mealsQty * 0.4 * 100 / (foodMacros[opt.f]?.fat || 50));
      fatLine = `${fQty}g aprox de ${opt.f} ğŸ¥‘ğŸŒ°`;
    }
    if (fatLine) ul.innerHTML += `<li><strong>Grasas saludables:</strong> ${fatLine}</li>`;

    // Fibra segÃºn objetivo
    let fibLine = "";
    if (objective === 'muscle') {
      fibLine = "verduras al gusto (no necesitas exagerar) ğŸ¥¬";
    } else if (objective === 'loss' || objective === 'tone') {
      fibLine = "agrega vegetales abundantes + fruta postre ğŸ¥—ğŸ";
    } else {
      fibLine = "verduras moderadas ğŸ¥—";
    }
    ul.innerHTML += `<li><strong>Fibra:</strong> ${fibLine}</li>`;

    card.appendChild(ul);
    optionsDiv.appendChild(card);
  });
});
</script>
</body>
</html>
